{% extends 'base.html' %}
{% load static %}

{% block content %}

{% load cart %}
{% load custom_filter %}
<!-- body -->
<div class="container-fluid mt-3">
	<div class="row d-flex justify-content-center">
		<div class="col-4 mx-5">
			<h1>Sai Kamal
				<br>Industrial Corporation
			</h1>
			<p>Service is our motive. One stop for all your Industrial Requirements.</p>
			<a href="" class="button" style="text-decoration: none;">Explore Now &#8594;</a>
		</div>
		<div class="col-2">
			<img style="width: 20vw;" src="{% static 'cat-6.png' %}">
		</div>
	</div>
	<div class="cat">
		<div class="small-container">
			<div class="row">
				<div class="img col-2">
					<img src="{% static 'cat-4.webp' %}">
				</div>
				<div class="img col-2">
					<img src="{% static 'man2.jpeg' %}">
				</div>
				<div class="img col-2">
					<img src="{% static 'cat-5.jpg' %}">
				</div>
			</div>
		</div>
	</div>
	<div class="small-container">
		<h2 class="name">Popular Products</h2>
		<div class="row">
			{% for product in PopularProducts %}
			<div type="card mx-auto mb-3" id={{product.id}} class="imgcol-3">
				<img style="width: 200px; height: 200px;" src="{{product.image.url}}">
				<div class="mx-0 my-3 mb-4">
					<p class="h5 card-title">{{product.name|truncatechars:17}}</p>
					<p class="card-text"><b>Prize : £{{product.price}}.00</b></p>
				</div>
				<div class="card-footer p-0 no-gutters">
					{% if product|is_in_cart:request.session.cart %}
					<div class="row p-0 px-3">
						<form action="/#{{product.id}}" method="post">
							{% csrf_token %}
							<input hidden type="text" name='product' value='{{product.id}}'>
							<input hidden type="text" name='remove' value='True'>
							<input type="submit" value=" - " class="col btn btn-block btn-success border-right">
						</form>
						<div class="text-center col-7 btn btn-success">{{product|cart_quantity:request.session.cart}} in
							Cart</div>
						<form action="/#{{product.id}}" method="post">
							{% csrf_token %}
							<input hidden type="text" name='product' value='{{product.id}}'>
							<input type="submit" value=" + " class="col btn btn-block btn-success border-left">
						</form>
					</div>
					{% else %}
					<div class="row p-0 px-3">
						<form action="/#{{product.id}}" method="POST" class="btn-block">
							{% csrf_token %}
							<input hidden type="text" name='product' value='{{product.id}}'>
							<input type="submit" class="float-right btn btn-success form-control" value="Add To Cart">
						</form>
					</div>
					{% endif %}
				</div>
			</div>
			{% endfor %}
		</div>

		<h2 class="name">Other Products</h2>
		<div class="row">
			{% for product in OtherProducts %}
			<div type="card mx-auto mb-3" id={{product.id}} class="imgcol-3">
				<img style="width: 200px; height: 200px;" src="{{product.image.url}}">
				<div class="mx-0 my-3 mb-4">
					<p class="h5 card-title">{{product.name |truncatechars:15}}</p>
					<p class="card-text"><b>Prize : £{{product.price}}.00</b></p>
				</div>
				<div class="card-footer p-0 no-gutters">
					{% if product|is_in_cart:request.session.cart %}
					<div class="row p-0 px-3">
						<form action="/#{{product.id}}" method="post">
							{% csrf_token %}
							<input hidden type="text" name='product' value='{{product.id}}'>
							<input hidden type="text" name='remove' value='True'>
							<input type="submit" value=" - " class="col btn btn-block btn-success border-right">
						</form>
						<div class="text-center col-7 btn btn-success">{{product|cart_quantity:request.session.cart}} in
							Cart</div>
						<form action="/#{{product.id}}" method="post">
							{% csrf_token %}
							<input hidden type="text" name='product' value='{{product.id}}'>
							<input type="submit" value=" + " class="col btn btn-block btn-success border-left">
						</form>
					</div>
					{% else %}
					<div class="row p-0 px-3">
						<form action="/#{{product.id}}" method="POST" class="btn-block">
							{% csrf_token %}
							<input hidden type="text" name='product' value='{{product.id}}'>
							<input type="submit" class="float-right btn btn-success form-control" value="Add To Cart">
						</form>
					</div>
					{% endif %}
				</div>
			</div>
			{% endfor %}
		</div>
	</div>
	<div class=" d-flex justify-content-center">
		<div class=" sale" style="width: 90%;">
			<div class="row">
				<div class="col-2">
					<img src="{% static 'rods.jpg' %}" class="weldingrodsimg" align="center">
				</div>
				<div class="col-5">
					<p>Exclusively available on Sai Kamal</p>
					<h1>Welding Rods</h1>
					<small>Welding electrodes are metal wires with baked on chemical coatings. The rod is used to
						sustain the welding arc and to provide the filler metal required for the joint to be welded.
					</small>
					<br>
					<a href="" class="button">Buy Now &#8594</a>
				</div>
			</div>
		</div>
		<div class="row">

			<!-- <div class="col-lg-3 mx-auto">
			<div class="list-group">

				<a href="/" class="list-group-item list-group-item-action btn btn-outline-success">All Products</a>

				{% for category in categories %}
				<a href="/?category={{category.id}}"
					class="list-group-item list-group-item-action btn btn-outline-success ">{{category.name}}</a>
				{% endfor %}
			</div>
		</div> -->

			<!-- all products -->
			<!-- <div id='products' class="col-lg-9 mx-auto">
			<div class="row mx-auto">
				{% for product in products %}
				<div class="card mx-auto mb-3" id={{product.id}} style="width: 18rem;">
					<img class="card-img-top" src="{{product.image.url}}" alt="Card image cap">
					<div class="card-body">
						<p class="card-title">{{product.name}}</p>
						<p class="card-text"><b>{{product.price|currency}}</b></p>
						
					</div>

					<div class="card-footer p-0 no-gutters">

						{% if product|is_in_cart:request.session.cart %}
						<div class="row no-gutters">
							<form action="/#{{product.id}}" class="col-2 " method="post">
								{% csrf_token %}
								<input hidden type="text" name='product' value='{{product.id}}'>
								<input hidden type="text" name='remove' value='True'>
								<input type="submit" value=" - " class="btn btn-block btn-success border-right">
							</form>
							<div class="text-center col btn btn-success">{{product|cart_quantity:request.session.cart}} in Cart</div>
							<form action="/#{{product.id}}" class="col-2 " method="post">
								{% csrf_token %}
								<input hidden type="text" name='product' value='{{product.id}}'>
								<input type="submit" value=" + " class="btn btn-block btn-success border-left">
							</form>
						</div>
						{% else %}
						<form action="/#{{product.id}}" method="POST" class="btn-block">
							{% csrf_token %}
							<input hidden type="text" name='product' value='{{product.id}}'>
							<input type="submit" class="float-right btn btn-success form-control"
								value="Add To Cart">
						</form>
						{% endif %}

					</div>

				</div>
				{% endfor %}
			</div>
		</div> -->
		</div>
	</div>
</div>

	{% endblock %}